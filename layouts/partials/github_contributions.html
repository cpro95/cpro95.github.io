{{/* 
  hugo.toml의 site.Params.mainSections 설정을 사용하여 페이지를 가져옵니다.
*/}}
{{ $section := where .Site.RegularPages "Section" "in" .Site.Params.mainSections }}

<div class="gc-mt-4 gc-position-relative" id="contributions" 
  data='[{{ range $index, $elem := $section }}
  {
    "title": "{{ .Title | safeJS }}",
    "link": "{{ .Permalink }}",
    "publishDate": "{{ .PublishDate.Format "2006-01-02 15:04:05" }}"
  }{{ if ne $index (sub (len $section) 1) }},{{ end }}
  {{ end }}]'
  >
      <div class="js-yearly-contributions">
        <div class="gc-position-relative">
          <h2 class="gc-f4 gc-text-normal gc-mb-2" id="posts-count"></h2>
          <div class="gc-border gc-py-2 gc-graph-before-activity-overview">
            <div
              class="js-calendar-graph gc-mx-md-2 gc-mx-3 gc-d-flex gc-flex-column gc-flex-items-end gc-flex-xl-items-center gc-overflow-hidden gc-pt-1 gc-is-graph-loading gc-graph-canvas gc-calendar-graph gc-height-full gc-text-center">
              <svg width="828" height="128" class="js-calendar-graph-svg">
                <g transform="translate(10, 20)" id="graph-svg">
                </g>
              </svg>
            </div>
            <div class="gc-contrib-footer gc-clearfix gc-mt-1 gc-mx-3 gc-px-3 gc-pb-1">
              <div class="gc-float-left gc-text-gray">
              </div>
              <div class="gc-contrib-legend gc-text-gray">
                Less
                <ul class="gc-legend">
                  <li style="background-color: var(--color-calendar-graph-day-bg)"></li>
                  <li style="background-color: var(--color-calendar-graph-day-L1-bg)"></li>
                  <li style="background-color: var(--color-calendar-graph-day-L2-bg)"></li>
                  <li style="background-color: var(--color-calendar-graph-day-L3-bg)"></li>
                  <li style="background-color: var(--color-calendar-graph-day-L4-bg)"></li>
                </ul>
                More
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="gc-activity-listing gc-contribution-activity">
        <div class="gc-d-none gc-d-lg-block">
          <div class="js-profile-timeline-year-list gc-bg-white gc-float-right gc-col-2 gc-pl-5 gc-is-placeholder"
            style="visibility: hidden; display: none; height: 210px;"></div>
          <div style="top: 74px; position: static;"
            class="js-profile-timeline-year-list gc-bg-white js-sticky gc-float-right gc-col-2 gc-pl-5">
            <ul class="gc-filter-list gc-small" id="year-list">
            </ul>
          </div>
        </div>

        <h2 class="gc-f4 gc-text-normal gc-mt-4 gc-mb-3">
          Post activity
        </h2>

        <div id="posts-activity">
        </div>
      </div>

    </div>

    <div id="pinned-items-modal-wrapper"></div>
</div>