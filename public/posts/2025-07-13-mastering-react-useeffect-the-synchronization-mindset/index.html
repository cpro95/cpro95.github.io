<!DOCTYPE html>
<html lang="ko">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script type="application/javascript" src='http://localhost:1313/js/theme-mode.js'></script>
    <link rel="stylesheet" href='http://localhost:1313/css/frameworks.min.css' />
    <link rel="stylesheet" href='http://localhost:1313/css/github.min.css' />
    <link rel="stylesheet" href='http://localhost:1313/css/github-style.css' />
    <link rel="stylesheet" href='http://localhost:1313/css/light.css' />
    <link rel="stylesheet" href='http://localhost:1313/css/dark.css' />
    <link rel="stylesheet" href='http://localhost:1313/css/syntax.css' />
    <title>React useEffect 완전 정복 - 동기화 관점으로 레벨업하기 - cpro95.github.io</title>
    
    <link rel="icon" type="image/x-icon" href='/images/github-mark.png'>
    
    <meta name="theme-color" content="#1e2327">

    
    

    
    <meta name="description"
  content="useEffect는 단순한 생명주기 훅이 아닙니다. React의 상태를 외부 세계와 동기화하는 관점에서 useEffect의 실행 주기, 의존성 배열의 함정, 클린업 함수의 정확한 타이밍, 그리고 흔한 오용 사례까지 깊이 있게 탐구합니다." />
<meta name="keywords"
  content='blog, web development' />
<meta name="robots" content="noodp" />
<link rel="canonical" href="http://localhost:1313/posts/2025-07-13-mastering-react-useeffect-the-synchronization-mindset/" />


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="React useEffect 완전 정복 - 동기화 관점으로 레벨업하기 - cpro95.github.io" />
<meta name="twitter:description"
  content="useEffect는 단순한 생명주기 훅이 아닙니다. React의 상태를 외부 세계와 동기화하는 관점에서 useEffect의 실행 주기, 의존성 배열의 함정, 클린업 함수의 정확한 타이밍, 그리고 흔한 오용 사례까지 깊이 있게 탐구합니다." />
<meta name="twitter:site" content="http://localhost:1313/" />
<meta name="twitter:creator" content="" />
<meta name="twitter:image"
  content="http://localhost:1313/">


<meta property="og:type" content="article" />
<meta property="og:title" content="React useEffect 완전 정복 - 동기화 관점으로 레벨업하기 - cpro95.github.io">
<meta property="og:description"
  content="useEffect는 단순한 생명주기 훅이 아닙니다. React의 상태를 외부 세계와 동기화하는 관점에서 useEffect의 실행 주기, 의존성 배열의 함정, 클린업 함수의 정확한 타이밍, 그리고 흔한 오용 사례까지 깊이 있게 탐구합니다." />
<meta property="og:url" content="http://localhost:1313/posts/2025-07-13-mastering-react-useeffect-the-synchronization-mindset/" />
<meta property="og:site_name" content="React useEffect 완전 정복 - 동기화 관점으로 레벨업하기" />
<meta property="og:image"
  content="http://localhost:1313/">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2025-07-13 09:48:08 &#43;0900 KST" />











</head>


<body>
  <div style="position: relative">
  <header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap open Details--on">
    <div class="Header-item mobile-none" style="margin-top: -4px; margin-bottom: -4px;">
      <a class="Header-link" href="http://localhost:1313/">
        <img class="octicon" height="32" width="32" src="/images/github-mark-white.png">
      </a>
    </div>
    <div class="Header-item d-md-none">
      <button class="Header-link btn-link js-details-target" type="button"
        onclick="document.querySelector('#header-search').style.display = document.querySelector('#header-search').style.display == 'none'? 'block': 'none'">
        <svg height="24" class="octicon octicon-three-bars" viewBox="0 0 16 16" version="1.1" width="24">
          <path fill-rule="evenodd" d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z">
          </path>
        </svg>
      </button>
    </div>
    <div style="display: none;" id="header-search"
      class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex">
      <div
        class="Header-search header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to">
        <div class="position-relative">
          
          <form target="_blank" id="search-form" action="" accept-charset="UTF-8" method="get"
            autocomplete="off">
            <label
              class="Header-search-label form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center">
              <input type="text"
                class="Header-search-input form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
                name="q" value="" placeholder="Search" autocomplete="off">
            </label>
          </form>
          
        </div>
      </div>
    </div>

    <div class="Header-item Header-item--full flex-justify-center d-md-none position-relative">
      <a class="Header-link " href="http://localhost:1313/">
        <img class="octicon octicon-mark-github v-align-middle" height="32" width="32" src="/images/github-mark-white.png">
      </a>
    </div>
    <div class="Header-item" style="margin-right: 0;">
      <a href="javascript:void(0)" class="Header-link no-select" onclick="switchTheme()">
        <svg style="fill: var(--color-profile-color-modes-toggle-moon);" class="no-select" viewBox="0 0 16 16"
          version="1.1" width="16" height="16">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M4.52208 7.71754C7.5782 7.71754 10.0557 5.24006 10.0557 2.18394C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961C9.95801 1.07727 10.3495 0.771159 10.6474 0.99992C12.1153 2.12716 13.0615 3.89999 13.0615 5.89383C13.0615 9.29958 10.3006 12.0605 6.89485 12.0605C3.95334 12.0605 1.49286 10.001 0.876728 7.24527C0.794841 6.87902 1.23668 6.65289 1.55321 6.85451C2.41106 7.40095 3.4296 7.71754 4.52208 7.71754Z">
          </path>
        </svg>
      </a>
    </div>
  </header>
</div>

  <div id="search-result" class="container-lg px-3 new-discussion-timeline" style="display: none;">
</div>

  
<div class="application-main">
  <div>
  <main>
    <div class="gisthead pagehead bg-gray-light pb-0 pt-3 mb-4">
      <div class="px-0">
        <div class="mb-3 d-flex px-3 px-md-3 px-lg-5">
          <div class="flex-auto min-width-0 width-fit mr-3">
            <div class="d-flex">
              <div class="d-none d-md-block">
                <a class="avatar mr-2 flex-shrink-0" href="http://localhost:1313/">
                  <img class=" avatar-user"
                    src="/images/avatar.png"
                    width="32" height="32"></a>
              </div>
              <div class="d-flex flex-column">
                <h1 class="break-word f3 text-normal mb-md-0 mb-1">
                  <span class="author">
                    <a href="http://localhost:1313/">드리프트</a>
                  </span>
                  <span class="path-divider">/</span>
                  <span class="author">
                    <a href="http://localhost:1313/posts">Posts</a>
                  </span>
                  <span class="path-divider">/</span>
                  <strong class="css-truncate css-truncate-target mr-1" style="max-width: 410px">
                    <a href="http://localhost:1313/posts/2025-07-13-mastering-react-useeffect-the-synchronization-mindset/">React useEffect 완전 정복 - 동기화 관점으로 레벨업하기</a>
                  </strong>
                </h1>
                <div class="note m-0">
                  Created <relative-time datetime="Sun, 13 Jul 2025 09:48:08 &#43;0900"
                    class="no-wrap">
                    Sun, 13 Jul 2025 09:48:08 &#43;0900</relative-time>

                  
                  <span class="file-info-divider"></span>
                  Modified <relative-time datetime="Sat, 04 Oct 2025 22:19:42 &#43;0900"
                    class="no-wrap">
                    Sat, 04 Oct 2025 22:19:42 &#43;0900</relative-time>
                  
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container-lg px-3 new-discussion-timeline">
      <div class="repository-content gist-content">
        <div>
          <div class="js-gist-file-update-container js-task-list-container file-box">
            <div id="file-pytest" class="file my-2">
              <div id="post-header" class="file-header d-flex flex-md-items-center flex-items-start sticky-header" style="z-index: 2">
                <div class="file-info d-flex flex-md-items-center flex-items-start flex-order-1 flex-auto">
                  <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">
                    
                    <summary id="toc-toggle" onclick="clickToc()" class="btn btn-octicon m-0 mr-2 p-2">
                      <svg aria-hidden="true" viewBox="0 0 16 16" height="16" width="16" class="octicon octicon-list-unordered">
                        <path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"></path>
                      </svg>
                    </summary>
                    <details-menu class="SelectMenu" id="toc-details" style="display: none;">
                      <div class="SelectMenu-modal rounded-3 mt-1" style="max-height: 340px;">
                        <div class="SelectMenu-list SelectMenu-list--borderless p-2" style="overscroll-behavior: contain;" id="toc-list">
                        </div>
                      </div>
                    </details-menu>
                      3494 Words
                    

                  </div>
                  <div class="file-actions flex-order-2 pt-0">
                    
                    
                    <a class="muted-link mr-3" href="/tags/react">
                      <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                        <path fill-rule="evenodd"
                          d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                        </path>
                      </svg>
                      React
                    </a>
                    
                    <a class="muted-link mr-3" href="/tags/useeffect">
                      <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                        <path fill-rule="evenodd"
                          d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                        </path>
                      </svg>
                      useEffect
                    </a>
                    
                    <a class="muted-link mr-3" href="/tags/react-%ED%9B%85">
                      <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                        <path fill-rule="evenodd"
                          d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                        </path>
                      </svg>
                      React 훅
                    </a>
                    
                    <a class="muted-link mr-3" href="/tags/%EB%B6%80%EC%88%98-%ED%9A%A8%EA%B3%BC">
                      <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                        <path fill-rule="evenodd"
                          d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                        </path>
                      </svg>
                      부수 효과
                    </a>
                    
                    <a class="muted-link mr-3" href="/tags/%EB%8F%99%EA%B8%B0%ED%99%94">
                      <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                        <path fill-rule="evenodd"
                          d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                        </path>
                      </svg>
                      동기화
                    </a>
                    
                    <a class="muted-link mr-3" href="/tags/%EC%83%81%ED%83%9C-%EA%B4%80%EB%A6%AC">
                      <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                        <path fill-rule="evenodd"
                          d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                        </path>
                      </svg>
                      상태 관리
                    </a>
                    
                    <a class="muted-link mr-3" href="/tags/%EC%84%B1%EB%8A%A5-%EC%B5%9C%EC%A0%81%ED%99%94">
                      <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                        <path fill-rule="evenodd"
                          d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                        </path>
                      </svg>
                      성능 최적화
                    </a>
                    
                    
                  </div>
                </div>
              </div>


              <div class="Box-body px-5 pb-5" style="z-index: 1">
                <article class="markdown-body entry-content container-lg"><h1 id="react-useeffect-완전-정복---동기화-관점으로-레벨업하기">React useEffect 완전 정복 - 동기화 관점으로 레벨업하기</h1>
<p><img src="https://blogger.googleusercontent.com/img/a/AVvXsEgr_P_vbKgrljls-Gm7_Q94A5hP7OGGDjiZ4NqZq0cUJXCAeOxSriFZ63Fo7ho_lEsmt12FiMbXbcDJham42JrUyfgIZh1Wjqm5xJzzk3myWV9Lzbqupz9NkwIb9NtsomHN7FiIGPDnwgrqDWOtBu86bPddi0h14xq8FI5lK3012XK6vxkGx3yQWs2xW7w=s16000" alt=""></p>
<p>우리는 React의 내부 메커니즘, 모범 사례, 디자인 패턴, 그리고 고급 개념들을 탐구합니다.</p>
<p>이 글들은 기본을 넘어 React가 내부적으로 어떻게 작동하는지 진정으로 이해하고자 하는 React 개발자들을 위해 작성되었습니다.</p>
<h2 id="useeffect의-본질을-꿰뚫기"><code>useEffect</code>의 본질을 꿰뚫기</h2>
<p><code>useEffect</code> 훅은 현대 React의 근본적인 기둥입니다.</p>
<p>단순한 함수 그 이상으로, 컴포넌트가 변화에 반응하고 비동기 작업을 수행하면서도 UI의 일관성을 유지할 수 있게 해줍니다.</p>
<p>하지만 그 명백한 단순함 뒤에는 미묘한 에러를 유발하고 애플리케이션의 성능과 유지보수성에 영향을 미칠 수 있는 복잡성이 숨어 있습니다.</p>
<p>이번 &lsquo;Level Up React&rsquo; 시리즈 글에서는 <code>useEffect</code>의 내부 메커니즘, 종종 오해받는 미묘함, 그리고 숙련된 개발자조차도 기다리는 흔한 함정들을 깊이 있게 탐구해 보겠습니다.</p>
<p>올바른 사용법이 어떻게 여러분의 코드를 더 예측 가능하고 성능 좋게 변화시킬 수 있는지 확인해 보겠습니다.</p>
<h2 id="useeffect의-기본"><code>useEffect</code>의 기본</h2>
<h3 id="useeffect는-왜-존재할까"><code>useEffect</code>는 왜 존재할까?</h3>
<p>React는 함수형 컴포넌트에서 &lsquo;부수 효과(side effects)&lsquo;를 효율적으로 관리하기 위해 <code>useEffect</code>를 만들었습니다.</p>
<p>이것이 도입되기 전에는, 이러한 작업들은 <code>componentDidMount</code>, <code>componentDidUpdate</code>, <code>componentWillUnmount</code>와 같은 클래스 컴포넌트의 생명주기 메서드에 예약되어 있었습니다.</p>
<p>&lsquo;부수 효과&rsquo;란 React 컴포넌트 외부의 무언가를 수정하는 모든 작업을 의미합니다.</p>
<p>예를 들면 다음과 같습니다.</p>
<ul>
<li>API 요청 보내기</li>
<li>DOM을 직접 조작하기 (예: 문서 제목 변경)</li>
<li>이벤트 리스너 추가 또는 제거하기</li>
<li>타이머 설정하기 (<code>setTimeout</code>, <code>setInterval</code>)</li>
</ul>
<p>가장 중요한 개념은 <code>useEffect</code>를 &lsquo;무언가를 하기 위한&rsquo; 도구가 아니라, <strong>&lsquo;React의 상태를 외부 시스템과 동기화(synchronize)하기 위한&rsquo; 도구</strong>로 바라보는 것입니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#75715e">// 부수 효과의 예: 페이지 제목 수정하기
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">useEffect</span>(() =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// &#39;username&#39;이라는 React 상태를 브라우저의 &#39;document.title&#39;이라는 외부 시스템과 동기화합니다.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  document.<span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`Profile of </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">username</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>;
</span></span><span style="display:flex;"><span>}, [<span style="color:#a6e22e">username</span>]);
</span></span></code></pre></div><p>이 예제에서 문서 제목을 수정하는 것은 React 컴포넌트 외부의 환경에 영향을 미치기 때문에 부수 효과입니다.</p>
<p><code>useEffect</code> 훅은 우리가 이 작업을 언제 발생해야 하는지 명시적으로 선언할 수 있게 해줍니다.</p>
<h3 id="useeffect의-해부학"><code>useEffect</code>의 해부학</h3>
<p><code>useEffect</code> 훅은 두 개의 인자를 받습니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">useEffect</span>(
</span></span><span style="display:flex;"><span>  () =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 이펙트 본문 (실행할 코드)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> () =&gt; {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// 클린업(정리) 함수 (선택 사항)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    };
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  [
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* 의존성 배열 */</span>
</span></span><span style="display:flex;"><span>  ]
</span></span><span style="display:flex;"><span>);
</span></span></code></pre></div><ul>
<li>&lsquo;첫 번째 인자 (이펙트 함수)&rsquo;: 실행할 코드를 담고 있는 함수입니다.
이 함수는 &lsquo;클린업 함수&rsquo;를 반환할 수 있는데, 이 클린업 함수는 다음 이펙트가 실행되기 전이나 컴포넌트가 언마운트될 때 호출됩니다.</li>
<li>&lsquo;두 번째 인자 (의존성 배열)&rsquo;: 이펙트가 언제 실행되어야 하는지를 결정합니다.
React는 렌더링 사이에 이 배열의 값들을 비교하여 이펙트를 다시 실행할지 여부를 결정합니다.</li>
</ul>
<h3 id="useeffect의-실행-주기"><code>useEffect</code>의 실행 주기</h3>
<p><code>useEffect</code>는 언제 실행될까요?</p>
<p>일반적인 믿음과는 달리, <code>useEffect</code>는 컴포넌트의 렌더링 도중에 실행되지 않고, <strong>React가 DOM을 업데이트한 후에 실행됩니다.</strong></p>
<p>정확한 작업 순서는 다음과 같습니다.</p>
<ol>
<li>React가 컴포넌트 본문을 실행하고 표시할 JSX를 계산합니다.</li>
<li>React가 이 JSX를 반영하도록 DOM을 업데이트합니다.</li>
<li>React가 <code>useEffect</code>로 정의된 이펙트들을 실행합니다.</li>
</ol>
<p>이 순서는 이펙트 동작을 이해하는 데 매우 중요합니다.</p>
<h2 id="의존성-배열로-실행-제어하기">의존성 배열로 실행 제어하기</h2>
<p>의존성 배열은 이펙트가 언제 실행되어야 하는지를 제어하는 핵심 메커니즘입니다.</p>
<p>React는 <code>Object.is()</code> 비교 알고리즘을 사용하여 의존성이 변경되었는지 판단합니다.</p>
<ul>
<li>&lsquo;의존성 배열 없음&rsquo;: 이펙트가 &lsquo;모든 렌더링 후에&rsquo; 실행됩니다.
이는 불필요한 실행과 성능 문제를 유발할 수 있으므로 거의 사용되지 않는 구성입니다.</li>
<li>&lsquo;빈 의존성 배열 <code>[]</code>&rsquo;: 이펙트가 &lsquo;첫 렌더링 후에만&rsquo; 한 번 실행됩니다.
WebSocket 연결 설정과 같은 일회성 초기화에 유용합니다.</li>
<li>&lsquo;의존성이 있는 배열 <code>[count]</code>&rsquo;: 이펙트가 첫 렌더링 후, 그리고 의존성(<code>count</code>)이 변경될 때마다 실행됩니다.</li>
</ul>
<h3 id="클린업-메커니즘">클린업 메커니즘</h3>
<p>클린업 함수는 <code>useEffect</code>의 종종 간과되는 중요한 측면입니다.</p>
<p>이펙트가 다시 실행되거나 컴포넌트가 언마운트되기 전에 리소스를 정리하거나 구독을 취소할 수 있게 해줍니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#a6e22e">useEffect</span>(() =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// 인터벌 생성
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">intervalId</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">setInterval</span>(() =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;Tick&#34;</span>);
</span></span><span style="display:flex;"><span>  }, <span style="color:#ae81ff">1000</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// 클린업 함수
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">return</span> () =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;인터벌 정리 중&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">clearInterval</span>(<span style="color:#a6e22e">intervalId</span>);
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>}, []);
</span></span></code></pre></div><p>이 예제에서 클린업 함수는 컴포넌트가 언마운트될 때 인터벌이 제대로 제거되도록 보장하여, 메모리 누수를 방지합니다.</p>
<h2 id="흔한-함정과-피하는-방법">흔한 함정과 피하는 방법</h2>
<h3 id="무한-루프">무한 루프</h3>
<p>가장 빈번한 문제 중 하나는 의도치 않은 무한 루프 생성입니다.</p>
<p>이 문제는 이펙트의 의존성인 상태를 업데이트하는 데이터 페칭 시나리오에서 자주 발생합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#75715e">// 실제 사례에서 무한 루프 생성
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">NotificationCenter</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">notifications</span>, <span style="color:#a6e22e">setNotifications</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">useState</span>([]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">useEffect</span>(() =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fetchNotifications</span>().<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">newNotifications</span> =&gt; {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// 이 업데이트는 새로운 렌더링을 유발합니다.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">setNotifications</span>([...<span style="color:#a6e22e">notifications</span>, ...<span style="color:#a6e22e">newNotifications</span>]);
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>  }, [<span style="color:#a6e22e">notifications</span>]); <span style="color:#75715e">// notifications가 의존성입니다.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><p>이 예제에서는 <code>fetchNotifications()</code>가 데이터를 반환할 때마다 <code>notifications</code> 상태를 업데이트합니다.</p>
<p><code>notifications</code>가 우리 이펙트의 의존성이므로, 이는 이펙트의 새로운 실행을 유발하여 API 요청의 무한 루프를 만듭니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#75715e">// 해결책: 함수형 업데이터 사용
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">NotificationCenter</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">notifications</span>, <span style="color:#a6e22e">setNotifications</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">useState</span>([]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">useEffect</span>(() =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fetchNotifications</span>().<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">newNotifications</span> =&gt; {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// 이 형태의 setState는 현재 상태에 의존할 필요가 없습니다.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">setNotifications</span>(<span style="color:#a6e22e">prevNotifications</span> =&gt; [
</span></span><span style="display:flex;"><span>        ...<span style="color:#a6e22e">prevNotifications</span>,
</span></span><span style="display:flex;"><span>        ...<span style="color:#a6e22e">newNotifications</span>,
</span></span><span style="display:flex;"><span>      ]);
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>  }, []); <span style="color:#75715e">// 마운트 시 한 번만 실행
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><h3 id="누락되거나-불필요한-의존성">누락되거나 불필요한 의존성</h3>
<p>또 다른 흔한 함정은 필요한 의존성을 생략하거나 불필요한 의존성을 포함하는 것입니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#75715e">// 누락된 의존성
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">UserProfile</span>({ <span style="color:#a6e22e">userId</span> }) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">user</span>, <span style="color:#a6e22e">setUser</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">useState</span>(<span style="color:#66d9ef">null</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">useEffect</span>(() =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fetchUser</span>(<span style="color:#a6e22e">userId</span>).<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">data</span> =&gt; <span style="color:#a6e22e">setUser</span>(<span style="color:#a6e22e">data</span>));
</span></span><span style="display:flex;"><span>  }, []); <span style="color:#75715e">// userId가 의존성에서 빠져 있습니다.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><p>이 예제에서, <code>userId</code>가 변경되더라도 이펙트는 다시 실행되지 않습니다.</p>
<p><code>eslint-plugin-react-hooks</code> 플러그인이 포함된 ESLint 도구는 이러한 문제를 자동으로 감지하는 데 매우 유용합니다.</p>
<h3 id="객체와-함수를-의존성으로-사용하기">객체와 함수를 의존성으로 사용하기</h3>
<p>렌더링 중에 생성된 객체와 함수는 각 렌더링마다 재생성되므로 새로운 값으로 간주되어 특별한 문제를 야기합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#75715e">// 매 렌더링마다 재생성되는 객체
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">SearchComponent</span>({ <span style="color:#a6e22e">term</span> }) {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// 이 객체는 매 렌더링마다 재생성됩니다.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">options</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">caseSensitive</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span> };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">useEffect</span>(() =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">performSearch</span>(<span style="color:#a6e22e">term</span>, <span style="color:#a6e22e">options</span>);
</span></span><span style="display:flex;"><span>  }, [<span style="color:#a6e22e">term</span>, <span style="color:#a6e22e">options</span>]); <span style="color:#75715e">// options는 매 렌더링마다 변경됩니다.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><p><code>term</code>이 변경되지 않았더라도 <code>options</code>가 재생성되어 이펙트가 매번 실행됩니다.</p>
<p>해결책은 <code>useMemo</code>나 <code>useCallback</code>을 사용하거나, 객체나 함수를 이펙트 내부로 옮기는 것입니다.</p>
<h2 id="useeffect를-사용하지-말아야-할-때"><code>useEffect</code>를 사용하지 말아야 할 때</h2>
<p>React 공식 문서는 &lsquo;아마 이펙트가 필요 없을지도 모릅니다(You Might Not Need an Effect)&lsquo;라는 매우 유용한 가이드를 제공합니다.</p>
<ul>
<li>&lsquo;파생된 값 계산하기&rsquo;: 기존 상태에서 파생된 값을 계산하기 위해 <code>useEffect</code>를 사용하는 것은 흔한 실수입니다.
렌더링 중에 직접 계산하거나, 계산 비용이 비싸다면 <code>useMemo</code>를 사용하세요.</li>
<li>&lsquo;사용자 이벤트에 반응하기&rsquo;: 사용자 이벤트에 반응하기 위해 <code>useEffect</code>를 사용하는 것은 종종 복잡하고 유지보수하기 어려운 아키텍처로 이어집니다.
이벤트 핸들러에서 직접 로직을 호출하는 것이 더 간단하고 직접적입니다.</li>
<li>&lsquo;상태 변수 초기화하기&rsquo;: <code>useEffect</code>를 사용하여 상태 변수를 초기화하는 것은 종종 불필요합니다.
<code>useState</code>의 &lsquo;게으른 초기화&rsquo;를 사용하는 것이 더 간단하고 효율적입니다.</li>
</ul>
<h2 id="useeffect의-올바른-사용-사례"><code>useEffect</code>의 올바른 사용 사례</h2>
<p><code>useEffect</code>는 컴포넌트를 외부 시스템과 &lsquo;동기화&rsquo;할 때 이상적입니다.</p>
<ul>
<li>외부 시스템과 동기화 (DOM, 서드파티 API 등)</li>
<li>이벤트 구독 (키보드 단축키, <code>BroadcastChannel</code> 등)</li>
<li>데이터 페칭</li>
</ul>
<h2 id="결론">결론</h2>
<p><code>useEffect</code> 훅은 올바르게 사용하기 위해 깊은 이해가 필요한 강력하지만 미묘한 도구입니다.</p>
<p>우리가 보았듯이, 이 훅은 React 컴포넌트를 외부 시스템과 동기화할 수 있게 해주지만, 과도하거나 잘못된 사용은 성능 및 유지보수 문제를 유발할 수 있습니다.</p>
<p>기억해야 할 핵심 사항은 다음과 같습니다.</p>
<ul>
<li><code>useEffect</code>는 렌더링과 DOM 업데이트 후에 실행됩니다.</li>
<li>의존성 배열은 이펙트 실행 시점을 제어하며 엄격하게 유지되어야 합니다.</li>
<li>클린업 함수는 메모리 누수와 원치 않는 동작을 피하기 위해 필수적입니다.</li>
<li>많은 흔한 <code>useEffect</code> 사용 사례는 더 간단하고 직접적인 접근 방식으로 대체될 수 있습니다.</li>
</ul>
<p><code>useEffect</code>를 사용하는 데 있어 사려 깊은 접근 방식을 채택하고 그 대안을 앎으로써, 여러분은 더 예측 가능하고, 성능이 좋으며, 유지보수하기 쉬운 React 코드를 작성할 수 있습니다.</p>
</article>
              </div>
              
              
              <div class="paginate-container">
                <div class="BtnGroup">
                  <a rel="nofollow" class="btn btn-outline BtnGroup-item" href="http://localhost:1313/">Home</a>
                  <a rel="nofollow" class="btn btn-outline BtnGroup-item" href="http://localhost:1313/posts">Posts</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>
<script type="application/javascript" src='http://localhost:1313/js/toc.js'></script>
<link rel="stylesheet" href='http://localhost:1313/css/toc.css' />

  


<div id="gitalk-container" class="gitalk-container"></div>
<link rel="stylesheet" href='http://localhost:1313/css/gitalk.css'>
<script src='http://localhost:1313/js/gitalk.min.js'></script>


<script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.18.0/js/md5.min.js"></script>

<script>
  const gitalk = new Gitalk({
    
    clientID: 'Ov23lifamEzU8X3iDFJl',
    clientSecret: 'ce2a5ca50bad6bd0dba565654d02669c13ff2147',
    repo: 'cpro95-gitalk',
    owner: 'cpro95',
    admin: ['cpro95'],
    distractionFreeMode: false,

    

    
    
    

    
    id: md5(location.pathname)

  });
  
  (function() {
    gitalk.render('gitalk-container');
  })();
</script>

</div>

  <div class="footer container-xl width-full p-responsive">
  <div
    class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between flex-sm-items-center pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <a aria-label="Homepage" title="GitHub" class="footer-octicon d-none d-lg-block mr-lg-4" href="http://localhost:1313/">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24">
        <path fill-rule="evenodd"
          d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
        </path>
      </svg>
    </a>
    <ul class="list-style-none d-flex flex-wrap col-12 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
      
      <li class="mr-3 mr-lg-0">Copyright © All rights reserved.</li>
      
      <li class="mr-3 mr-lg-0">GitHub and the Invertocat logo are trademarks of <a href="https://github.com/">GitHub, Inc.</a></li>
    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>


</div>

</body>

<script type="application/javascript" src="http://localhost:1313/js/github-style.js"></script>





<script src="https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js"></script>
<script type="application/javascript" src='http://localhost:1313/js/search.js'></script>



</html>